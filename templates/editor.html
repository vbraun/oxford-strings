{% extends "layout.html" %}


{% block title %}
Editing {{ name }}
{% endblock %}


{% block extra_js %}
<script type="text/javascript" src="/codemirror/lib/codemirror.js"></script>
<script type="text/javascript" src="/codemirror/mode/markdown/markdown.js"></script>
<script type="text/javascript" src="/js/editor.js"></script>
{% endblock %}


{% block extra_css %}
<link rel="stylesheet" href="/codemirror/lib/codemirror.css"/>
<link rel="stylesheet" href="/css/editor.css"/>
{% endblock %}



{% block body %}
<div id="editor_menu">
  Editing {{ name }}:
  <div class="editor_menu_item"><a href="#" id="menu_preview">Preview</a></div>
  <div class="editor_menu_item"><a href="#" id="menu_save">Save</a></div>
  <div class="editor_menu_item"><a href="#" id="menu_cancel">Cancel</a></div>
  <div class="editor_menu_item"><a href="#" id="menu_help">Help</a></div>
</div>

<div id="editor">
  <form>
    <textarea id="source" name="source">{% autoescape false %}{{ source }}{% endautoescape %}</textarea>
  </form>
</div>

<div id="content">
<div id="preview" name="preview">
{% autoescape false %}{{ preview }}{% endautoescape %}
</div>
</div>

<div id="help_markdown" title="Markdown help">
  <p>
    Pages are written in the "Markdown" language, and then compiled
    into html for you. It is much simpler to write. You can use inline
    html for everything that is not covered by markdown.
  </p>
</div>

 
<script>
  var editor = Editor.fromTextArea("/edit/{{ name }}", "source", "preview")
</script>

{% endblock %}
